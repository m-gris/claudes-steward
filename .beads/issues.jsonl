{"id":"STEW-00q","title":"DM: NotificationType strict","description":"Remove Other catch-all from notification_type. Either enumerate all valid types, or make Unknown explicit with logging/error. Fail fast on unknown types.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:17:09.689548+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T15:26:58.329523+04:00","closed_at":"2026-02-12T15:26:58.329523+04:00","close_reason":"Renamed Other→Unknown for explicit handling of unrecognized notification types"}
{"id":"STEW-078","title":"Hook Verification Experiments","description":"Verify Claude Code hooks fire as documented before building claudes-steward","acceptance_criteria":"All 13 test scenarios documented with findings. Key questions from VERIFICATION.md answered.","status":"open","priority":0,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:44:30.72727+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:44:30.72727+04:00"}
{"id":"STEW-078.1","title":"Setup: Create test hook script","description":"Create ~/.claude/hooks/monitor-test.sh that logs hook events to file","acceptance_criteria":"Script exists, is executable, logs JSON payload + tmux location","status":"closed","priority":0,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:44:37.200756+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T16:11:13.191057+04:00","closed_at":"2026-02-05T16:11:13.191057+04:00","close_reason":"Created probe.sh with structured logging (human-readable + JSONL), new-experiment.sh for rotation","dependencies":[{"issue_id":"STEW-078.1","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:44:37.201337+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.10","title":"Verify M5: Tmux location correct across sessions","description":"Run tests from DIFFERENT tmux sessions (not just windows). Verify tmux location is correct per-session, not cached.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:20.466565+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:20.466565+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.10","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:20.46725+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.10","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.295384+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.11","title":"Verify M6: Session resume preserves session_id","description":"Exit Claude, then 'claude --resume'. Check SessionStart fires with source=resume and session_id is preserved.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:20.533552+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:20.533552+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.11","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:20.534187+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.11","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.349428+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.12","title":"Verify M7: User interrupt does NOT fire Stop","description":"Press Escape mid-response. Confirm Stop hook does NOT fire (per docs).","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:29.940335+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:29.940335+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.12","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:29.940965+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.12","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.403317+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.13","title":"Verify M8: Empty prompt behavior","description":"Press Enter with no text. Check if UserPromptSubmit fires (edge case).","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:30.013687+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:30.013687+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.13","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:30.014329+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.13","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.456314+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.14","title":"Verify M9: Hook timing observation","description":"When PermissionRequest triggers, note if hook fires BEFORE or AFTER dialog renders. Watch timestamp vs UI.","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:30.096434+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:30.096434+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.14","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:30.097062+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.14","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.521623+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.15","title":"Verify M10: Blocking behavior check","description":"During any hook-triggering action, observe if there is perceptible delay from our test script.","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:30.263289+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:30.263289+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.15","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:30.264021+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.15","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.574316+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.16","title":"Analysis: Document findings","description":"After all tests: document which hooks fired, payload contents, answer key questions from VERIFICATION.md section 7","acceptance_criteria":"All questions in section 7 answered with evidence from logs","status":"open","priority":0,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:36.553692+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:36.553692+04:00","dependencies":[{"issue_id":"STEW-078.16","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:36.556293+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.16","depends_on_id":"STEW-078.3","type":"blocks","created_at":"2026-02-05T15:56:15.6323+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.16","depends_on_id":"STEW-078.6","type":"blocks","created_at":"2026-02-05T15:56:15.684862+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.2","title":"Setup: Configure hooks in settings.json","description":"Add test hooks for: PermissionRequest, Notification[elicitation_dialog], Notification[permission_prompt], Stop, SessionStart, UserPromptSubmit, SessionEnd","acceptance_criteria":"All hooks configured, Claude restarted to pick up changes","status":"closed","priority":0,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:44:44.489745+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T16:17:46.387122+04:00","closed_at":"2026-02-05T16:17:46.387122+04:00","close_reason":"Created project-local .claude/settings.json with all probe hooks","dependencies":[{"issue_id":"STEW-078.2","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:44:44.490322+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.2","depends_on_id":"STEW-078.1","type":"blocks","created_at":"2026-02-05T15:56:14.846954+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.3","title":"Test A1: Basic query (SessionStart, Stop, SessionEnd)","description":"Run: claude -p 'What is 2+2?' - Verify SessionStart, Stop, SessionEnd hooks fire","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:54:59.764503+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T16:34:20.612621+04:00","closed_at":"2026-02-05T16:34:20.612621+04:00","close_reason":"CONFIRMED: SessionStart, UserPromptSubmit, Stop, SessionEnd all fire with correct payloads and tmux location","labels":["automated"],"dependencies":[{"issue_id":"STEW-078.3","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:54:59.765161+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.3","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:14.901757+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.4","title":"Test A2: With allowed tools","description":"Run: claude -p 'List files' --allowedTools Bash - Verify hooks fire with pre-approved tool","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:04.725866+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T16:35:13.597681+04:00","closed_at":"2026-02-05T16:35:13.597681+04:00","close_reason":"CONFIRMED: Same 4 hooks fire. PermissionRequest correctly does NOT fire when --allowedTools bypasses dialog.","labels":["automated"],"dependencies":[{"issue_id":"STEW-078.4","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:04.727716+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.4","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:14.956431+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.5","title":"Test A3: Session resume","description":"Run: claude -p 'Continue' --continue - Check SessionStart source=resume, session_id stability","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:04.79559+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T16:36:19.118398+04:00","closed_at":"2026-02-05T16:36:19.118398+04:00","close_reason":"CONFIRMED: source='resume' set correctly. NOTE: session_id changes on resume (new UUID per invocation).","labels":["automated"],"dependencies":[{"issue_id":"STEW-078.5","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:04.79622+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.5","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.012282+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.6","title":"Verify M1: Permission prompt fires PermissionRequest","description":"In TUI: Ask Claude to run a bash command, wait for dialog. Check PermissionRequest hook fires.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:12.854456+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:12.854456+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.6","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:12.855134+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.6","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.064122+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.7","title":"Verify M2: Permission notification fires","description":"Same as M1: Check if Notification[permission_prompt] also fires. Compare payloads.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:12.921888+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:12.921888+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.7","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:12.922455+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.7","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.116027+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.8","title":"Verify M3: Elicitation dialog fires","description":"In TUI: Ask ambiguous question that makes Claude use AskUserQuestion. Check Notification[elicitation_dialog] fires.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:12.989037+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:12.989037+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.8","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:12.989588+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.8","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.170195+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-078.9","title":"Verify M4: UserPromptSubmit fires on response","description":"After any prompt, type a response. Check UserPromptSubmit hook fires.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-05T15:55:20.392226+04:00","created_by":"Marc GRIS","updated_at":"2026-02-05T15:55:20.392226+04:00","labels":["manual"],"dependencies":[{"issue_id":"STEW-078.9","depends_on_id":"STEW-078","type":"parent-child","created_at":"2026-02-05T15:55:20.392875+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-078.9","depends_on_id":"STEW-078.2","type":"blocks","created_at":"2026-02-05T15:56:15.226937+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-0hd","title":"Re-index transcripts with nomic-embed-text","description":"After EmbedModel variant is done: run steward-index to re-index all ~14.5k chunks with nomic-embed-text (8192 context). Verify 446 errors are resolved. Expected time: ~10 min with 4 parallel workers.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:42:16.745633+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:16:14.212022+04:00","closed_at":"2026-02-12T14:16:14.212022+04:00","close_reason":"Success: indexed 14400/14602 chunks (98.6%). Remaining 202 errors are very long chunks exceeding 8192 tokens - requires chunking strategy improvement (separate concern).","dependencies":[{"issue_id":"STEW-0hd","depends_on_id":"STEW-aw8","type":"blocks","created_at":"2026-02-12T09:42:16.857258+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-0pa","title":"Generalize onboarding formula into composable base+overlay","description":"After learning from the project-specific formula, extract a generic onboard-base formula (works for any repo: bd health, git status, find active work, codebase structure) into ~/.beads/formulas/. Project-specific formulas compose with it via extends/compose. This is the long-term goal - depends on lessons learned from the steward-specific formula.","status":"open","priority":3,"issue_type":"feature","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T14:15:53.136545+08:00","created_by":"Marc GRIS","updated_at":"2026-02-16T14:15:53.136545+08:00","dependencies":[{"issue_id":"STEW-0pa","depends_on_id":"STEW-8mu","type":"parent-child","created_at":"2026-02-16T14:16:05.597656+08:00","created_by":"Marc GRIS"},{"issue_id":"STEW-0pa","depends_on_id":"STEW-grg","type":"blocks","created_at":"2026-02-16T14:16:08.890345+08:00","created_by":"Marc GRIS"}]}
{"id":"STEW-0rb","title":"AsyncEmbed: Types","description":"Define async embedding types: embed_job, embed_result, pool_config. Lwt promise types.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:48:03.643955+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:10.263408+04:00","closed_at":"2026-02-10T15:34:10.263408+04:00","close_reason":"Added embed_pool_config, embed_job, embed_job_result types for Lwt async embedding.","dependencies":[{"issue_id":"STEW-0rb","depends_on_id":"STEW-90w","type":"blocks","created_at":"2026-02-10T15:09:37.585948+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-1lc","title":"DM: HookEventSource variant","description":"Replace Session_start.source:string with source variant (Startup | Resume | Clear | Compact). Update json.ml parsing.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:38.390953+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:26:37.039969+04:00","closed_at":"2026-02-12T14:26:37.039969+04:00","close_reason":"Created session_start_source variant (Startup|Resume|Clear|Compact). Added string_of/of_string helpers. Updated json.ml and tests."}
{"id":"STEW-1t0","title":"Define interfaces: steward-search, steward-goto","description":"Document input/output contracts for each script. steward-search: query → line-per-result. steward-goto: location → tmux navigation.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:58:15.157142+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.034202+04:00","closed_at":"2026-02-06T18:00:02.034202+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-1wf","title":"Create test fixtures: mock cc-search output, mock state DB","description":"Set up test data: sample cc-conversation-search JSON output, pre-populated test SQLite with known sessions.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:58:15.259914+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.031978+04:00","closed_at":"2026-02-06T18:00:02.031978+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-22i","title":"Indexer: Integration test","description":"End-to-end test: create test transcripts, run indexer, verify Qdrant contains expected chunks, search returns results.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T15:02:14.480701+04:00","created_by":"Marc GRIS","updated_at":"2026-02-11T11:13:33.270891+04:00","closed_at":"2026-02-11T11:13:33.270891+04:00","close_reason":"End-to-end test complete: indexed 14,012 chunks, semantic search works (steward-search tested with multiple queries)","dependencies":[{"issue_id":"STEW-22i","depends_on_id":"STEW-6pq","type":"blocks","created_at":"2026-02-10T15:09:38.193853+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-3w4","title":"IndexerCore: Tests","description":"Test plan_indexing (diff logic), batch_chunks, progress calculation. All pure functions.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:53:24.499646+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:10.339299+04:00","closed_at":"2026-02-10T15:34:10.339299+04:00","close_reason":"Added 6 Indexer tests: default_options, plan_all_new, plan_some_existing, batch, progress, format_plan. All pass.","dependencies":[{"issue_id":"STEW-3w4","depends_on_id":"STEW-6tv","type":"blocks","created_at":"2026-02-10T15:09:37.763081+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-44h","title":"Try cc-conversation-search","description":"Install, init, test. Key: returns session_id + project path directly, has --json flag. uv tool install cc-conversation-search","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:49:52.546158+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T12:01:36.011902+04:00","closed_at":"2026-02-06T12:01:36.011902+04:00","close_reason":"WORKS. Returns session_id, project, timestamp, snippets, resume command. Does NOT return tmux location (expected - that's our bridge)."}
{"id":"STEW-4a3","title":"Investigate 446 HTTP 400 embedding errors","description":"During initial indexing run, 446 chunks failed with HTTP 400 from Ollama. Fix: enrich Ej_failure type to carry the original chunk, serialize failures to JSONL, then analyze content patterns.","status":"closed","priority":2,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-11T11:13:25.676819+04:00","created_by":"Marc GRIS","updated_at":"2026-02-11T17:49:42.055357+04:00","closed_at":"2026-02-11T17:49:42.055357+04:00","close_reason":"Root cause identified: context length exceeded (512 tokens). All 446 errors are same cause. Diagnostic tooling added (--errors-file flag, response body capture)."}
{"id":"STEW-4aq","title":"steward find: Compile check","description":"Verify types compile with holes (failwith TODO). No logic yet.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:14.885235+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:14:48.781235+04:00","closed_at":"2026-02-06T17:14:48.781235+04:00","close_reason":"Types defined and compile with just build","dependencies":[{"issue_id":"STEW-4aq","depends_on_id":"STEW-9vh","type":"blocks","created_at":"2026-02-06T16:39:22.569846+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-4ju","title":"steward find: Result merging","description":"Combine search results with running/not-running status from state store. Enrich with tmux location where available.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T13:06:57.543362+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:59:52.150012+04:00","closed_at":"2026-02-06T17:59:52.150012+04:00","close_reason":"Pure functions done in Finder module. DB integration separate.","dependencies":[{"issue_id":"STEW-4ju","depends_on_id":"STEW-94a","type":"blocks","created_at":"2026-02-06T13:07:07.526166+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-4ju","depends_on_id":"STEW-da0","type":"blocks","created_at":"2026-02-06T13:07:07.608578+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-4od","title":"DM: Update all tests","description":"After all type changes, update test_steward.ml. Tests should use variant constructors, not strings. Compiler errors will guide.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:17:09.764537+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T15:06:24.124751+04:00","closed_at":"2026-02-12T15:06:24.124751+04:00","close_reason":"Completed as part of previous tasks - all tests already updated during type propagation.","dependencies":[{"issue_id":"STEW-4od","depends_on_id":"STEW-aw8","type":"blocks","created_at":"2026-02-12T09:28:51.570664+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-4od","depends_on_id":"STEW-r9w","type":"blocks","created_at":"2026-02-12T09:28:51.623759+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-4va","title":"steward find: CLI binary","description":"Create bin/find.ml that orchestrates the search→lookup→display pipeline. Accept query as argument, output formatted results.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T18:00:14.933747+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:14.933747+04:00","dependencies":[{"issue_id":"STEW-4va","depends_on_id":"STEW-llf","type":"blocks","created_at":"2026-02-06T18:00:22.237912+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-4va","depends_on_id":"STEW-8zn","type":"blocks","created_at":"2026-02-06T18:00:22.440417+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-5af","title":"OCaml hook: steward-hook","description":"Implement the state hook in OCaml following dual-TDD-dialogic: types first, tests second, implementation last.","notes":"## Context\n\nBuilding the core hook handler for claudes-steward in OCaml.\n\n## Key Documents\n- shared/research/LANGUAGE-CHOICE.md — Why OCaml (startup speed, ADTs, safety)\n- shared/research/SESSION-FINDER-FINDINGS.md — Architecture, bridge design\n- shared/schema.sql — SQLite schema (sessions table, views)\n- shared/experiments/FINDINGS.md — Hook verification results\n\n## The Spiral (dual-TDD-dialogic)\nGates STEW-kvk → STEW-j6s form the chain:\n1. Domain modeling (types) ← IN PROGRESS\n2. Compile check\n3. Test design\n4. Red\n5. Implementation\n6. Green\n7. Refactor\n8. Still green\n\n## State Machine (from LANGUAGE-CHOICE.md)\n```ocaml\ntype hook_event = SessionStart | Stop | PermissionRequest | UserPromptSubmit | SessionEnd | Notification of notification_type\ntype state = Working | NeedsAttention of reason\ntype reason = Done | Permission | Question\n```\n\n## What the hook does\n1. Read JSON from stdin (Claude Code payload)\n2. Capture tmux context (session, window, pane, pane_id)\n3. Compute state transition (pure function)\n4. Write to SQLite (steward.db)\n\n## To continue\n```bash\nbd show STEW-kvk  # Current gate\nbd ready          # What's unblocked\n```","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:49.475018+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:54:21.058012+04:00","closed_at":"2026-02-06T16:54:21.058012+04:00","close_reason":"All 8 gates completed. OCaml steward-hook implemented with 21 passing tests. Binary at _build/default/bin/steward_hook.exe"}
{"id":"STEW-62a","title":"steward find: Refactor","description":"Clean up implementation. No behavior change.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:15.312116+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:19:32.191401+04:00","closed_at":"2026-02-06T17:19:32.191401+04:00","close_reason":"No refactoring needed, tests still pass","dependencies":[{"issue_id":"STEW-62a","depends_on_id":"STEW-fu7","type":"blocks","created_at":"2026-02-06T16:39:22.873037+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6b8","title":"Create root-level justfile","description":"Add a justfile at repo root that imports sub-justfiles (shared/ocaml/justfile, shared/qdrant/justfile) and provides top-level recipes for common operations across the project.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T14:15:50.16136+08:00","created_by":"Marc GRIS","updated_at":"2026-02-18T08:42:15.661779+08:00","closed_at":"2026-02-18T08:42:15.661779+08:00","close_reason":"Created root justfile that delegates to shared/ocaml and shared/qdrant sub-justfiles. Provides top-level build, test, check, fmt, and service management (up/down) recipes.","dependencies":[{"issue_id":"STEW-6b8","depends_on_id":"STEW-8mu","type":"parent-child","created_at":"2026-02-16T14:16:05.517415+08:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv","title":"Contextual Transcript Search","description":"Natural language search over Claude Code transcripts using Qdrant hybrid search + LLM re-ranking. Goal: 'Hey Claude, remember when we discussed X?' → finds it, responds naturally, offers navigation to running sessions.","design":"Architecture: Qdrant (Rust) for hybrid BM25+vector search, LLM-agnostic enrichment/reranking/response, OCaml orchestration. See shared/research/TRANSCRIPT-SEARCH-DESIGN.md","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:06:10.019958+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:06:10.019958+04:00","labels":["infrastructure","search"]}
{"id":"STEW-6lv.1","title":"Phase 1: Core Search Infrastructure","description":"Foundational infrastructure: Qdrant setup, transcript parsing, basic vector indexing, simple query endpoint.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:06:16.789723+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T17:43:31.752902+04:00","closed_at":"2026-02-09T17:43:31.752902+04:00","close_reason":"Phase 1 complete: Qdrant setup, transcript parser, embedding pipeline (Ollama/mxbai-embed-large), index writer, vector query, CLI. 51 tests passing.","labels":["infrastructure","phase-1"],"dependencies":[{"issue_id":"STEW-6lv.1","depends_on_id":"STEW-6lv","type":"parent-child","created_at":"2026-02-07T10:06:16.790825+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.1","title":"Qdrant setup","description":"Install and configure Qdrant (Docker or binary). Create collection with appropriate schema for transcript chunks.","acceptance_criteria":"- Qdrant running locally\n- Collection created with vector + payload schema\n- Health check endpoint responds\n- Documented in README","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:06:49.87092+04:00","created_by":"Marc GRIS","updated_at":"2026-02-08T07:24:44.879272+04:00","closed_at":"2026-02-08T07:24:44.879272+04:00","close_reason":"Qdrant 1.16.3 installed via cargo binary, collection created, justfile for management","labels":["infrastructure","qdrant"],"dependencies":[{"issue_id":"STEW-6lv.1.1","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:06:49.872325+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2","title":"Transcript parser","description":"Parse Claude Code JSONL transcripts into turn-level chunks (user+assistant pairs). Turn-level chosen for better context enrichment in Phase 2 - keeps question and answer together.","acceptance_criteria":"- Parses ~/.claude/projects/**/*.jsonl\n- Outputs turn-level chunks (user+assistant pairs)\n- Extracts: session_id, project_path, timestamp, content\n- OCaml module with clean types\n- Unit tests for JSONL parsing","notes":"This is now a container for TDD sub-tasks","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-07T10:06:52.854996+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:23:47.775961+04:00","closed_at":"2026-02-09T11:23:47.775961+04:00","close_reason":"Transcript parser complete: parse_message, pair_into_turns. Turn-level chunks for contextual retrieval.","labels":["ocaml","parser"],"dependencies":[{"issue_id":"STEW-6lv.1.2","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:06:52.85695+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2","depends_on_id":"STEW-6lv.1.1","type":"blocks","created_at":"2026-02-07T10:07:12.476988+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2","depends_on_id":"STEW-6lv.1.8","type":"blocks","created_at":"2026-02-07T10:18:35.082695+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.1","title":"Parser: Define types","description":"Define OCaml types for transcript parsing: raw JSONL record, parsed message, chunk, transcript metadata.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:28.09764+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:20:43.444695+04:00","closed_at":"2026-02-09T11:20:43.444695+04:00","close_reason":"Transcript parser types defined: transcript_message, transcript_turn, index_chunk","labels":["ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.1.2.1","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:28.099754+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.2","title":"Parser: Compile check","description":"Verify types compile with failwith TODO placeholders.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:29.409938+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:20:43.448329+04:00","closed_at":"2026-02-09T11:20:43.448329+04:00","close_reason":"Transcript parser types defined: transcript_message, transcript_turn, index_chunk","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.1.2.2","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:29.411917+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2.2","depends_on_id":"STEW-6lv.1.2.1","type":"blocks","created_at":"2026-02-07T10:25:42.597537+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.3","title":"Parser: Write tests","description":"Write Alcotest tests: parse single message, parse conversation, handle malformed JSON, extract metadata, chunking strategies.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:30.870513+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:23:03.343236+04:00","closed_at":"2026-02-09T11:23:03.343236+04:00","close_reason":"6 tests written and failing (red phase confirmed)","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.1.2.3","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:30.871535+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2.3","depends_on_id":"STEW-6lv.1.2.2","type":"blocks","created_at":"2026-02-07T10:25:42.689496+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.4","title":"Parser: Red phase","description":"Run tests, confirm they fail (TODO stubs).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:32.197333+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:23:03.350976+04:00","closed_at":"2026-02-09T11:23:03.350976+04:00","close_reason":"6 tests written and failing (red phase confirmed)","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.1.2.4","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:32.198497+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2.4","depends_on_id":"STEW-6lv.1.2.3","type":"blocks","created_at":"2026-02-07T10:25:42.774734+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.5","title":"Parser: Implement","description":"Implement parsing logic to satisfy tests. Handle: message extraction, role detection, timestamp parsing, chunking.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:33.75417+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:23:42.011321+04:00","closed_at":"2026-02-09T11:23:42.011321+04:00","close_reason":"All 35 tests pass. Transcript parser implemented.","labels":["ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.1.2.5","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:33.755559+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2.5","depends_on_id":"STEW-6lv.1.2.4","type":"blocks","created_at":"2026-02-07T10:25:42.863927+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.2.6","title":"Parser: Green phase","description":"Run tests, confirm all pass.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:35.138413+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T11:23:42.015528+04:00","closed_at":"2026-02-09T11:23:42.015528+04:00","close_reason":"All 35 tests pass. Transcript parser implemented.","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.1.2.6","depends_on_id":"STEW-6lv.1.2","type":"parent-child","created_at":"2026-02-07T10:25:35.139838+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.2.6","depends_on_id":"STEW-6lv.1.2.5","type":"blocks","created_at":"2026-02-07T10:25:42.949031+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.3","title":"Embedding pipeline","description":"Generate dense vector embeddings for chunks. LLM-agnostic: support OpenAI, Cohere, or local models via config.","acceptance_criteria":"- Embeddings generated for chunks\n- Provider configurable (OpenAI default)\n- Batch processing for efficiency\n- Error handling for API failures","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:06:55.857549+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T17:32:12.159158+04:00","closed_at":"2026-02-09T17:32:12.159158+04:00","close_reason":"Implemented embedding pipeline with Ollama/mxbai-embed-large. 40 tests pass including integration test.","labels":["embeddings","llm-agnostic"],"dependencies":[{"issue_id":"STEW-6lv.1.3","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:06:55.858869+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.3","depends_on_id":"STEW-6lv.1.2","type":"blocks","created_at":"2026-02-07T10:07:12.573864+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.3","depends_on_id":"STEW-6lv.1.9","type":"blocks","created_at":"2026-02-07T10:18:35.175428+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.4","title":"Index writer","description":"Write chunks + embeddings to Qdrant collection. Handle upserts, batch writes, progress tracking.","acceptance_criteria":"- Chunks indexed to Qdrant\n- Upsert logic (re-index doesn't duplicate)\n- Batch writes for performance\n- Progress output during indexing","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:07:00.044686+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T17:35:42.266608+04:00","closed_at":"2026-02-09T17:35:42.266608+04:00","close_reason":"Implemented Qdrant index writer with upsert, batching, and progress tracking. 48 tests pass.","labels":["indexing","qdrant"],"dependencies":[{"issue_id":"STEW-6lv.1.4","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:07:00.04617+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.4","depends_on_id":"STEW-6lv.1.3","type":"blocks","created_at":"2026-02-07T10:07:12.658701+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.4","depends_on_id":"STEW-6lv.1.1","type":"blocks","created_at":"2026-02-07T10:07:12.738125+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5","title":"Basic vector query","description":"CONTAINER: Query Qdrant with embedded query, return ranked results. TDD phases below.","acceptance_criteria":"- Query endpoint works\n- Returns ranked chunks with scores\n- Filters by project_path if specified\n- Response includes all metadata","notes":"Container for TDD sub-tasks","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:07:02.849159+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T17:37:00.313959+04:00","closed_at":"2026-02-09T17:37:00.313959+04:00","close_reason":"Implemented vector query with search_by_vector and high-level search functions. 51 tests pass.","labels":["qdrant","query"],"dependencies":[{"issue_id":"STEW-6lv.1.5","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:07:02.850903+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5","depends_on_id":"STEW-6lv.1.4","type":"blocks","created_at":"2026-02-07T10:07:12.826473+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.1","title":"Query: Define types","description":"Define types for query request, query response, search result, filter options.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:57.436617+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:25:57.436617+04:00","labels":["ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.1.5.1","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:25:57.437792+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.2","title":"Query: Compile check","description":"Verify types compile.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:25:58.752568+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:25:58.752568+04:00","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.1.5.2","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:25:58.758191+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5.2","depends_on_id":"STEW-6lv.1.5.1","type":"blocks","created_at":"2026-02-07T10:26:12.186282+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.3","title":"Query: Write tests","description":"Tests: build query JSON, parse response JSON, filter by project, handle empty results, score ordering.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:00.246656+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:00.246656+04:00","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.1.5.3","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:26:00.247761+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5.3","depends_on_id":"STEW-6lv.1.5.2","type":"blocks","created_at":"2026-02-07T10:26:12.268807+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.4","title":"Query: Red phase","description":"Run tests, confirm failures.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:01.66006+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:01.66006+04:00","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.1.5.4","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:26:01.662427+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5.4","depends_on_id":"STEW-6lv.1.5.3","type":"blocks","created_at":"2026-02-07T10:26:12.361236+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.5","title":"Query: Implement","description":"Implement query building, Qdrant REST call, response parsing.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:03.062913+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:03.062913+04:00","labels":["ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.1.5.5","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:26:03.064285+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5.5","depends_on_id":"STEW-6lv.1.5.4","type":"blocks","created_at":"2026-02-07T10:26:12.443635+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.5.6","title":"Query: Green phase","description":"Run tests, confirm all pass.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:05.790528+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:05.790528+04:00","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.1.5.6","depends_on_id":"STEW-6lv.1.5","type":"parent-child","created_at":"2026-02-07T10:26:05.792396+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.5.6","depends_on_id":"STEW-6lv.1.5.5","type":"blocks","created_at":"2026-02-07T10:26:12.52709+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6","title":"CLI: steward search","description":"CONTAINER: CLI for search. TDD phases below.","acceptance_criteria":"- steward search 'state machine' works\n- Formatted output with session_id, project, snippet\n- --json flag for scripting\n- --limit flag","notes":"Container for TDD sub-tasks","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:07:06.030333+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T17:43:25.951835+04:00","closed_at":"2026-02-09T17:43:25.951835+04:00","close_reason":"Implemented steward-search CLI with --limit, --project, --json, --threshold options. 51 tests pass.","labels":["cli","ocaml"],"dependencies":[{"issue_id":"STEW-6lv.1.6","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:07:06.031809+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6","depends_on_id":"STEW-6lv.1.5","type":"blocks","created_at":"2026-02-07T10:07:12.908656+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.1","title":"CLI: Define types","description":"Types for CLI args, output format, result display.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:25.899561+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:25.899561+04:00","labels":["ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.1.6.1","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:25.900348+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.2","title":"CLI: Compile check","description":"Verify types compile.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:27.48954+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:27.48954+04:00","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.1.6.2","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:27.491264+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6.2","depends_on_id":"STEW-6lv.1.6.1","type":"blocks","created_at":"2026-02-07T10:26:41.021259+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.3","title":"CLI: Write tests","description":"Tests: parse args, format output, JSON output mode, handle no results.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:28.833678+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:28.833678+04:00","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.1.6.3","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:28.834727+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6.3","depends_on_id":"STEW-6lv.1.6.2","type":"blocks","created_at":"2026-02-07T10:26:41.10137+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.4","title":"CLI: Red phase","description":"Run tests, confirm failures.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:31.094318+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:31.094318+04:00","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.1.6.4","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:31.095708+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6.4","depends_on_id":"STEW-6lv.1.6.3","type":"blocks","created_at":"2026-02-07T10:26:41.178969+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.5","title":"CLI: Implement","description":"Implement CLI arg parsing (Cmdliner), output formatting, main entry point.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:32.835932+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:32.835932+04:00","labels":["ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.1.6.5","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:32.837277+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6.5","depends_on_id":"STEW-6lv.1.6.4","type":"blocks","created_at":"2026-02-07T10:26:41.261449+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.6.6","title":"CLI: Green phase","description":"Run tests, confirm all pass.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:34.506364+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:34.506364+04:00","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.1.6.6","depends_on_id":"STEW-6lv.1.6","type":"parent-child","created_at":"2026-02-07T10:26:34.508585+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.1.6.6","depends_on_id":"STEW-6lv.1.6.5","type":"blocks","created_at":"2026-02-07T10:26:41.341088+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.8","title":"Spike: Chunk strategy evaluation","description":"Evaluate chunk strategies: message-level vs turn-level vs fixed-token. Test retrieval quality with each.","acceptance_criteria":"- 3 strategies tested\n- Sample queries evaluated\n- Recommendation documented\n- Informs transcript parser design","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-07T10:12:07.355266+04:00","created_by":"Marc GRIS","updated_at":"2026-02-08T09:09:16.750412+04:00","closed_at":"2026-02-08T09:09:16.750412+04:00","close_reason":"Decision: Turn-level chunks (user+assistant pairs). Rationale: keeps Q\u0026A together for better context enrichment (Phase 2). Message-level would orphan responses from questions.","labels":["research","spike"],"dependencies":[{"issue_id":"STEW-6lv.1.8","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:12:07.357059+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.1.9","title":"Spike: Embedding model comparison","description":"Compare embedding models: OpenAI ada-3, Cohere embed-v3, BGE-large local. Quality vs cost vs speed.","acceptance_criteria":"- 3 models benchmarked\n- Quality on sample queries\n- Latency measured\n- Cost calculated\n- Recommendation documented","notes":"Updated: Using mxbai-embed-large via Ollama (local, free). MTEB 64.68 matches OpenAI. 1024 dims vs 3072 = faster search.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:18:29.590405+04:00","created_by":"Marc GRIS","updated_at":"2026-02-09T16:45:26.968739+04:00","closed_at":"2026-02-08T09:09:22.375891+04:00","close_reason":"Decision: OpenAI text-embedding-3-large for v1 (best quality). Design for pluggability. Revisit if cost/privacy matters.","labels":["embeddings","spike"],"dependencies":[{"issue_id":"STEW-6lv.1.9","depends_on_id":"STEW-6lv.1","type":"parent-child","created_at":"2026-02-07T10:18:29.591486+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2","title":"Phase 2: Hybrid + Contextual Retrieval","description":"Add BM25 sparse vectors, context enrichment pipeline, hybrid search, and basic reranking. This is where quality jumps.","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:06:18.819525+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:06:18.819525+04:00","labels":["phase-2","retrieval"],"dependencies":[{"issue_id":"STEW-6lv.2","depends_on_id":"STEW-6lv","type":"parent-child","created_at":"2026-02-07T10:06:18.821158+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2","depends_on_id":"STEW-6lv.1","type":"blocks","created_at":"2026-02-07T10:06:27.532779+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.1","title":"BM25 sparse vectors","description":"Add sparse BM25 vectors to Qdrant collection alongside dense vectors. Use Qdrant's native sparse vector support.","acceptance_criteria":"- Sparse vectors generated from text\n- Stored in Qdrant collection\n- Queryable independently\n- Tokenization consistent with embedding","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:07:23.02724+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:07:23.02724+04:00","labels":["bm25","qdrant"],"dependencies":[{"issue_id":"STEW-6lv.2.1","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-07T10:07:23.0284+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2","title":"Context enrichment pipeline","description":"CONTAINER: LLM context enrichment pipeline. TDD phases below.","acceptance_criteria":"- Each chunk gets context prepended\n- LLM provider configurable\n- Batch processing with rate limiting\n- Context cached (don't regenerate)\n- Prompt tuned for quality","notes":"Phase 1 uses turn-level chunks (user+assistant pairs) specifically to give this enricher full conversational context. The enricher should produce summaries like: 'User asks about X. Claude explains Y and suggests Z.'","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":90,"created_at":"2026-02-07T10:07:27.552005+04:00","created_by":"Marc GRIS","updated_at":"2026-02-08T09:09:40.071559+04:00","labels":["contextual","llm-agnostic"],"dependencies":[{"issue_id":"STEW-6lv.2.2","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-07T10:07:27.553142+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2","depends_on_id":"STEW-6lv.2.6","type":"blocks","created_at":"2026-02-12T17:39:48.114201+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.1","title":"Enrich: Define types","description":"Types for enrichment request, LLM provider config, enriched chunk, batch processing.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:55.697932+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:55.697932+04:00","labels":["ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.2.2.1","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:26:55.698776+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.2","title":"Enrich: Compile check","description":"Verify types compile.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:57.22571+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:57.22571+04:00","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.2.2.2","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:26:57.22715+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2.2","depends_on_id":"STEW-6lv.2.2.1","type":"blocks","created_at":"2026-02-07T10:27:14.658942+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.3","title":"Enrich: Write tests","description":"Tests: prompt construction, response parsing, batch handling, error recovery, caching.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:26:58.675627+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:26:58.675627+04:00","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.2.2.3","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:26:58.676474+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2.3","depends_on_id":"STEW-6lv.2.2.2","type":"blocks","created_at":"2026-02-07T10:27:14.737635+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.4","title":"Enrich: Red phase","description":"Run tests, confirm failures.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:00.200272+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:00.200272+04:00","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.2.2.4","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:27:00.201809+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2.4","depends_on_id":"STEW-6lv.2.2.3","type":"blocks","created_at":"2026-02-07T10:27:14.815543+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.5","title":"Enrich: Implement","description":"Implement enrichment: LLM API call, prompt template, batch processing, cache layer.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:01.815484+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:01.815484+04:00","labels":["ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.2.2.5","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:27:01.817464+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2.5","depends_on_id":"STEW-6lv.2.2.4","type":"blocks","created_at":"2026-02-07T10:27:14.908557+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.2.6","title":"Enrich: Green phase","description":"Run tests, confirm all pass.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:06.402393+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:06.402393+04:00","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.2.2.6","depends_on_id":"STEW-6lv.2.2","type":"parent-child","created_at":"2026-02-07T10:27:06.403916+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.2.6","depends_on_id":"STEW-6lv.2.2.5","type":"blocks","created_at":"2026-02-07T10:27:15.009772+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3","title":"Hybrid search query","description":"CONTAINER: Combine dense + sparse search with RRF fusion. TDD phases below.","acceptance_criteria":"- Single query hits both indexes\n- RRF fusion implemented\n- Configurable weights (dense vs sparse)\n- Better recall than vector-only","notes":"Container for TDD sub-tasks","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:07:36.064148+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:21.967381+04:00","labels":["hybrid","qdrant"],"dependencies":[{"issue_id":"STEW-6lv.2.3","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-07T10:07:36.066519+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3","depends_on_id":"STEW-6lv.2.1","type":"blocks","created_at":"2026-02-07T10:07:47.485792+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.1","title":"Hybrid: Define types","description":"Types for hybrid query, RRF fusion params, merged results.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:28.216578+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:28.216578+04:00","labels":["ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.2.3.1","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:28.218504+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.2","title":"Hybrid: Compile check","description":"Verify types compile.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:29.761073+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:29.761073+04:00","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.2.3.2","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:29.761925+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3.2","depends_on_id":"STEW-6lv.2.3.1","type":"blocks","created_at":"2026-02-07T10:27:41.835758+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.3","title":"Hybrid: Write tests","description":"Tests: RRF algorithm, weight configuration, result merging, edge cases (no sparse matches, no dense matches).","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:31.164259+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:31.164259+04:00","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.2.3.3","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:31.16614+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3.3","depends_on_id":"STEW-6lv.2.3.2","type":"blocks","created_at":"2026-02-07T10:27:41.914172+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.4","title":"Hybrid: Red phase","description":"Run tests, confirm failures.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:32.673002+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:32.673002+04:00","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.2.3.4","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:32.674277+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3.4","depends_on_id":"STEW-6lv.2.3.3","type":"blocks","created_at":"2026-02-07T10:27:42.00018+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.5","title":"Hybrid: Implement","description":"Implement RRF fusion, Qdrant hybrid query construction.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:34.381565+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:34.381565+04:00","labels":["ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.2.3.5","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:34.382968+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3.5","depends_on_id":"STEW-6lv.2.3.4","type":"blocks","created_at":"2026-02-07T10:27:42.106093+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.3.6","title":"Hybrid: Green phase","description":"Run tests, confirm all pass.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:35.775574+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:35.775574+04:00","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.2.3.6","depends_on_id":"STEW-6lv.2.3","type":"parent-child","created_at":"2026-02-07T10:27:35.776283+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.3.6","depends_on_id":"STEW-6lv.2.3.5","type":"blocks","created_at":"2026-02-07T10:27:42.19915+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.4","title":"LLM reranking","description":"REVISED: When used via MCP, Claude IS the reranker. This task becomes: ensure MCP returns enough context for Claude to rerank effectively. Only needed for CLI path where no LLM is in the loop.","acceptance_criteria":"- Top 20 → LLM → Top 5\n- Reranking prompt tuned\n- Provider configurable\n- Fallback if LLM fails\n- Measurable precision improvement","notes":"If MCP path: Claude reranks naturally. If CLI path: optional LLM rerank call.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-07T10:07:39.239939+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:21:58.878104+04:00","labels":["llm-agnostic","reranking"],"dependencies":[{"issue_id":"STEW-6lv.2.4","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-07T10:07:39.241222+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.4","depends_on_id":"STEW-6lv.2.3","type":"blocks","created_at":"2026-02-07T10:07:47.775319+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.5","title":"Re-index with context","description":"Re-run indexing pipeline with context enrichment enabled. Full re-index of all transcripts.","acceptance_criteria":"- All chunks have context\n- Both dense and sparse vectors\n- Index size documented\n- Indexing time documented","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:07:42.284276+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:07:42.284276+04:00","labels":["indexing","migration"],"dependencies":[{"issue_id":"STEW-6lv.2.5","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-07T10:07:42.285721+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.5","depends_on_id":"STEW-6lv.2.2","type":"blocks","created_at":"2026-02-07T10:07:47.571195+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.5","depends_on_id":"STEW-6lv.2.1","type":"blocks","created_at":"2026-02-07T10:07:47.691805+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.5","depends_on_id":"STEW-6lv.2.6","type":"blocks","created_at":"2026-02-12T17:39:48.174356+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6","title":"Chunk splitting strategy","description":"Handle turns that exceed embedding model context.\n\n**Approach:** Conservative fixed limit (4000 chars) + 10% overlap, Anthropic-aligned.\n\n**Source plan:** docs/plans/archived/2026-02-12-chunk-splitting-anthropic-aligned.atomized.md\n\n**TDD phases (.5-.12):**\n- .5 Types → .6 Compile → .7 Tests → .8 Red → .9 Impl → .10 Green → .11 Refactor → .12 Verify\n\n**Acceptance criteria:**\n- 0 embedding errors on full corpus (was: 205 failing)\n- Max chunk size = 4000 chars (safe for worst-case tokenization)\n- 10% overlap between adjacent sub-chunks\n- Deterministic sub-chunk IDs for incremental indexing","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T17:39:43.009196+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T19:00:34.425012+04:00","closed_at":"2026-02-13T19:00:34.425012+04:00","close_reason":"Chunk splitting implemented: 2500 char max, 10% overlap, 0 embedding errors. Tests pass (77/77).","dependencies":[{"issue_id":"STEW-6lv.2.6","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-12T17:39:43.010355+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6","depends_on_id":"STEW-aj4","type":"blocks","created_at":"2026-02-12T18:20:08.593286+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.1","title":"Chunk splitting investigation","description":"Methodical investigation before solution design. See shared/research/CHUNK-SPLITTING-ANALYSIS.md for problem decomposition.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:19:56.277698+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T11:37:39.101157+04:00","closed_at":"2026-02-13T11:37:39.101157+04:00","close_reason":"Duplicates - investigation done (STEW-aj4), proper TDD chain is .5-.12"}
{"id":"STEW-6lv.2.6.10","title":"Green phase - tests pass","description":"Confirm all tests pass (TDD green phase).\n\nRun `just test` - all 66+ tests should pass (55 existing + 11 new).","acceptance_criteria":"just test shows 0 failures","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":10,"created_at":"2026-02-13T11:34:50.179326+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:20:03.872362+04:00","closed_at":"2026-02-13T15:20:03.872362+04:00","close_reason":"Already implemented in prior session - 11/11 tests pass","labels":["tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.2.6.10","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:50.1802+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.10","depends_on_id":"STEW-6lv.2.6.9","type":"blocks","created_at":"2026-02-13T11:35:02.372519+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.11","title":"Refactor if needed","description":"Optional refactoring - improve code quality without changing behavior.\n\nIf no refactoring needed, close with reason.","acceptance_criteria":"Code reviewed, tests still pass","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-13T11:34:52.733716+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:20:03.88784+04:00","closed_at":"2026-02-13T15:20:03.88784+04:00","close_reason":"Already implemented in prior session - 11/11 tests pass","labels":["tdd-refactor"],"dependencies":[{"issue_id":"STEW-6lv.2.6.11","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:52.735239+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.11","depends_on_id":"STEW-6lv.2.6.10","type":"blocks","created_at":"2026-02-13T11:35:03.078406+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.12","title":"Verify 0 errors on full corpus","description":"End-to-end verification on real data.\n\n**Steps:**\n1. just build \u0026\u0026 just test\n2. steward-index --dry-run (preview shows 0 expected errors)\n3. steward-index (0 actual errors)\n4. Spot check: search finds content from previously-failing long turns","acceptance_criteria":"0 embedding errors, 205 previously-failing turns indexed","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":20,"created_at":"2026-02-13T11:34:55.323748+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T19:00:33.063136+04:00","closed_at":"2026-02-13T19:00:33.063136+04:00","close_reason":"0 embedding errors achieved (was 205). Remaining 632 errors are Qdrant unicode format issues (separate concern).","labels":["tdd-verify"],"dependencies":[{"issue_id":"STEW-6lv.2.6.12","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:55.324788+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.12","depends_on_id":"STEW-6lv.2.6.11","type":"blocks","created_at":"2026-02-13T11:35:03.752696+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.2","title":"Define types for chunk splitting","description":"Add constants and type considerations for chunk splitting.\n\n**Changes to lib/types.ml:**\n- max_chunk_chars : int constant (4000)\n- chunk_overlap_ratio : float constant (0.10)\n- Review index_chunk - likely no changes needed (already has all required fields)\n\n**Acceptance criteria:**\n- Constants defined in types.ml\n- dune build succeeds","acceptance_criteria":"Constants in types.ml, project compiles","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-13T11:29:55.528856+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T11:37:39.108681+04:00","closed_at":"2026-02-13T11:37:39.108681+04:00","close_reason":"Duplicates - investigation done (STEW-aj4), proper TDD chain is .5-.12","labels":["tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.2.6.2","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:29:55.53014+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.3","title":"Compile check for types","description":"Verify types phase compiles successfully before writing tests.\n\n**Action:** Run just build or dune build and confirm no errors.\n\n**Purpose:** Ensures type definitions are valid before proceeding to tests.","acceptance_criteria":"just build succeeds with 0 errors","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-13T11:29:58.21393+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T11:37:39.114536+04:00","closed_at":"2026-02-13T11:37:39.114536+04:00","close_reason":"Duplicates - investigation done (STEW-aj4), proper TDD chain is .5-.12","labels":["tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.2.6.3","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:29:58.215273+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.4","title":"Write tests for chunk splitting","description":"Write pure function tests for splitting logic (no mocks needed).\n\n**Test cases (test/test_steward.ml):**\n- test_split_text_short: content \u003c limit returns singleton\n- test_split_text_exact: content = limit returns singleton  \n- test_split_text_long: content \u003e limit returns multiple chunks\n- test_split_text_overlap: adjacent chunks overlap by 10%\n- test_split_text_paragraphs: splits at paragraph boundaries when possible\n- test_split_text_words: falls back to word boundaries\n- test_split_text_determinism: same input = same output always\n- test_turn_to_chunks_short: short turn returns single chunk\n- test_turn_to_chunks_long: long turn returns multiple chunks\n- test_turn_to_chunks_ids: sub-chunk IDs are deterministic\n- test_turn_to_chunks_metadata: all chunks inherit session/project metadata\n\n**Total:** 11 new tests","acceptance_criteria":"11 tests written in test_steward.ml, tests compile","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-13T11:30:03.735907+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T11:37:39.11915+04:00","closed_at":"2026-02-13T11:37:39.11915+04:00","close_reason":"Duplicates - investigation done (STEW-aj4), proper TDD chain is .5-.12","labels":["tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.2.6.4","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:30:03.737052+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.5","title":"Define types for chunk splitting","description":"Add constants for chunk splitting in types.ml.\n\n**Changes:**\n- max_chunk_chars = 4000 (safe for worst-case tokenization)\n- chunk_overlap_ratio = 0.10 (10% overlap)\n- Review index_chunk type (likely no changes needed)\n\nSee plan: docs/plans/archived/2026-02-12-chunk-splitting-anthropic-aligned.md","acceptance_criteria":"Constants defined, dune build succeeds","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-13T11:34:29.377538+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:12:39.13673+04:00","closed_at":"2026-02-13T15:12:39.13673+04:00","close_reason":"Types defined (4000 chars, 10% overlap), compiles successfully","labels":["tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.2.6.5","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:29.378773+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.6","title":"Compile check for types","description":"Verify types compile before writing tests.\n\nRun `just build` and confirm 0 errors.","acceptance_criteria":"just build succeeds","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-13T11:34:35.44655+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:12:39.150746+04:00","closed_at":"2026-02-13T15:12:39.150746+04:00","close_reason":"Types defined (4000 chars, 10% overlap), compiles successfully","labels":["tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.2.6.6","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:35.448392+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.6","depends_on_id":"STEW-6lv.2.6.5","type":"blocks","created_at":"2026-02-13T11:34:59.766496+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.7","title":"Write tests for chunk splitting","description":"Write 11 pure function tests for splitting logic (no mocks).\n\n**Tests:**\n1. split_text_short: content \u003c limit returns singleton\n2. split_text_exact: content = limit returns singleton\n3. split_text_long: content \u003e limit returns multiple chunks\n4. split_text_overlap: adjacent chunks overlap by 10%\n5. split_text_paragraphs: splits at paragraph boundaries\n6. split_text_words: falls back to word boundaries\n7. split_text_determinism: same input = same output\n8. turn_to_chunks_short: short turn returns single chunk\n9. turn_to_chunks_long: long turn returns multiple chunks\n10. turn_to_chunks_ids: sub-chunk IDs are deterministic\n11. turn_to_chunks_metadata: all chunks inherit session/project","acceptance_criteria":"11 tests in test_steward.ml, tests compile","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-13T11:34:40.603541+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:20:03.822635+04:00","closed_at":"2026-02-13T15:20:03.822635+04:00","close_reason":"Already implemented in prior session - 11/11 tests pass","labels":["tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.2.6.7","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:40.605237+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.7","depends_on_id":"STEW-6lv.2.6.6","type":"blocks","created_at":"2026-02-13T11:35:00.491958+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.8","title":"Red phase - tests fail","description":"Confirm all 11 new tests fail as expected (TDD red phase).\n\nRun `just test` - new tests should fail, existing tests pass.","acceptance_criteria":"11 new tests fail, existing tests pass","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-13T11:34:43.061465+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:20:03.843394+04:00","closed_at":"2026-02-13T15:20:03.843394+04:00","close_reason":"Already implemented in prior session - 11/11 tests pass","labels":["tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.2.6.8","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:43.062504+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.8","depends_on_id":"STEW-6lv.2.6.7","type":"blocks","created_at":"2026-02-13T11:35:01.178743+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.6.9","title":"Implement chunk splitting logic","description":"Implement pure splitting functions in lib/embed.ml.\n\n**Functions:**\n- split_at_paragraphs : string -\u003e string list\n- split_at_words : int -\u003e string -\u003e string list\n- split_text : max_size:int -\u003e overlap:int -\u003e string -\u003e string list\n- turn_to_chunks : transcript_turn -\u003e index_chunk list\n\n**Algorithm:** 4000 char max, 400 char overlap (10%), 3600 stride.\n**IDs:** {parent_id}:{index} (e.g., abc123:0, abc123:1)\n\n**Shell change (bin/steward_index.ml):**\n- turn_to_chunk -\u003e turn_to_chunks, flatten results","acceptance_criteria":"All functions implemented, compiles","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-13T11:34:49.79649+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T15:20:03.857836+04:00","closed_at":"2026-02-13T15:20:03.857836+04:00","close_reason":"Already implemented in prior session - 11/11 tests pass","labels":["tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.2.6.9","depends_on_id":"STEW-6lv.2.6","type":"parent-child","created_at":"2026-02-13T11:34:49.797406+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.2.6.9","depends_on_id":"STEW-6lv.2.6.8","type":"blocks","created_at":"2026-02-13T11:35:01.754513+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.7","title":"Qdrant JSON serialization bug: Expected string or null, got object","description":"During indexing, ~650 chunks fail to write to Qdrant with:\n`JSON type error: Expected string or null, got object`\n\nThis is unrelated to chunk splitting (embedding succeeds, Qdrant write fails).\nLikely a payload field being serialized incorrectly.\n\n**Sample error:**\n```json\n{\"chunk_id\":\"c54d59b9-...:2\",\"error\":\"JSON type error: Expected string or null, got object\"}\n```\n\n**To investigate:**\n- Check Qdrant.chunk_to_point payload construction\n- Verify all fields are strings/null, not nested objects","status":"closed","priority":2,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-13T14:06:58.955231+04:00","created_by":"Marc GRIS","updated_at":"2026-02-18T14:02:39.846819+08:00","closed_at":"2026-02-18T14:02:39.846819+08:00","close_reason":"Fixed Yojson 3.0.0 to_string_option raising Type_error on non-string/non-null values. Added safe_to_string pattern-match function, replaced 5 vulnerable call sites in qdrant.ml, added test. 78 tests pass.","dependencies":[{"issue_id":"STEW-6lv.2.7","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-13T14:06:58.959072+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.2.8","title":"Fix invalid unicode in transcript content for Qdrant","description":"Qdrant rejects chunks containing invalid Unicode sequences.\n\n**Error:** Format error in JSON body: invalid unicode code point\n\n**Scope:** 632 chunks affected (out of 14,588 total turns)\n\n**Cause:** Transcript content contains invalid UTF-8 sequences (terminal escape codes, emoji, corrupted characters).\n\n**Fix options:**\n1. Sanitize content before JSON encoding (replace invalid sequences with replacement char)\n2. Filter out chunks with invalid unicode\n3. Use binary-safe encoding","acceptance_criteria":"0 unicode format errors when indexing","status":"closed","priority":2,"issue_type":"bug","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-13T19:00:43.5342+04:00","created_by":"Marc GRIS","updated_at":"2026-02-18T14:40:42.073726+08:00","closed_at":"2026-02-18T14:40:42.073726+08:00","close_reason":"Added sanitize_utf8 using uutf library, applied at content extraction in transcript.ml. Invalid UTF-8 sequences are replaced with U+FFFD before entering the embedding/indexing pipeline. 81 tests pass.","labels":["indexing","unicode"],"dependencies":[{"issue_id":"STEW-6lv.2.8","depends_on_id":"STEW-6lv.2","type":"parent-child","created_at":"2026-02-13T19:00:43.537262+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3","title":"Phase 3: Integration","description":"Connect to steward ecosystem: MCP tool for Claude Code, state lookup for running sessions, navigation integration.","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:06:20.209173+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:06:20.209173+04:00","labels":["integration","phase-3"],"dependencies":[{"issue_id":"STEW-6lv.3","depends_on_id":"STEW-6lv","type":"parent-child","created_at":"2026-02-07T10:06:20.210516+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3","depends_on_id":"STEW-6lv.2","type":"blocks","created_at":"2026-02-07T10:06:27.617978+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1","title":"MCP tool: search_transcripts","description":"CONTAINER: MCP tool exposing transcript search to Claude Code. TDD phases below.","acceptance_criteria":"- MCP server with search_transcripts tool\n- Returns structured results\n- Claude can invoke naturally\n- Documented in MCP config","notes":"Container for TDD sub-tasks","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-07T10:08:02.99222+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:49.463173+04:00","labels":["integration","mcp"],"dependencies":[{"issue_id":"STEW-6lv.3.1","depends_on_id":"STEW-6lv.3","type":"parent-child","created_at":"2026-02-07T10:08:02.993497+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.1","title":"MCP: Define types","description":"Types for MCP tool schema, request params, response structure.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:55.929932+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:55.929932+04:00","labels":["mcp","ocaml","tdd-types"],"dependencies":[{"issue_id":"STEW-6lv.3.1.1","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:27:55.932379+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.2","title":"MCP: Compile check","description":"Verify types compile.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:57.864278+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:57.864278+04:00","labels":["ocaml","tdd-compile"],"dependencies":[{"issue_id":"STEW-6lv.3.1.2","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:27:57.865126+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.1.2","depends_on_id":"STEW-6lv.3.1.1","type":"blocks","created_at":"2026-02-07T10:28:12.934165+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.3","title":"MCP: Write tests","description":"Tests: request parsing, response formatting, error handling, schema validation.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:27:59.91881+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:27:59.91881+04:00","labels":["ocaml","tdd-tests"],"dependencies":[{"issue_id":"STEW-6lv.3.1.3","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:27:59.921899+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.1.3","depends_on_id":"STEW-6lv.3.1.2","type":"blocks","created_at":"2026-02-07T10:28:13.026246+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.4","title":"MCP: Red phase","description":"Run tests, confirm failures.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:28:02.095932+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:28:02.095932+04:00","labels":["ocaml","tdd-red"],"dependencies":[{"issue_id":"STEW-6lv.3.1.4","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:28:02.097474+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.1.4","depends_on_id":"STEW-6lv.3.1.3","type":"blocks","created_at":"2026-02-07T10:28:13.109994+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.5","title":"MCP: Implement","description":"Implement MCP server, tool registration, request handler, stdio transport.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:28:03.965572+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:28:03.965572+04:00","labels":["mcp","ocaml","tdd-impl"],"dependencies":[{"issue_id":"STEW-6lv.3.1.5","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:28:03.966414+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.1.5","depends_on_id":"STEW-6lv.3.1.4","type":"blocks","created_at":"2026-02-07T10:28:13.189544+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.1.6","title":"MCP: Green phase","description":"Run tests, confirm all pass.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:28:05.445225+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:28:05.445225+04:00","labels":["ocaml","tdd-green"],"dependencies":[{"issue_id":"STEW-6lv.3.1.6","depends_on_id":"STEW-6lv.3.1","type":"parent-child","created_at":"2026-02-07T10:28:05.446998+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.1.6","depends_on_id":"STEW-6lv.3.1.5","type":"blocks","created_at":"2026-02-07T10:28:13.270635+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.2","title":"LLM response synthesis","description":"REVISED: When used via MCP, Claude synthesizes the response naturally. This task becomes: ensure MCP returns structured data Claude can work with. Only needed for CLI path.","acceptance_criteria":"- Natural conversational response\n- Highlights most relevant matches\n- Includes session IDs\n- LLM-agnostic","notes":"MCP path: Claude responds naturally. CLI path: may need formatting logic.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:08:22.253724+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:22:06.699347+04:00","labels":["llm-agnostic","response"],"dependencies":[{"issue_id":"STEW-6lv.3.2","depends_on_id":"STEW-6lv.3","type":"parent-child","created_at":"2026-02-07T10:08:22.255017+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.2","depends_on_id":"STEW-6lv.3.1","type":"blocks","created_at":"2026-02-07T10:08:49.478702+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.3","title":"Steward state lookup bridge","description":"Connect search results to steward state store. session_id → tmux_location + running status.","acceptance_criteria":"- Search results enriched with running status\n- tmux_location included if running\n- Uses existing steward DB\n- Graceful if steward not running","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:08:31.990166+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:08:31.990166+04:00","labels":["integration","steward"],"dependencies":[{"issue_id":"STEW-6lv.3.3","depends_on_id":"STEW-6lv.3","type":"parent-child","created_at":"2026-02-07T10:08:31.991487+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.3.4","title":"Navigation integration","description":"Offer to navigate to running sessions. 'That session is at dev:2.1 - switch there?'","acceptance_criteria":"- Navigation offered for running sessions\n- Works via tmux select-pane\n- Confirmation before switching\n- Works from MCP and CLI","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:08:44.334399+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:08:44.334399+04:00","labels":["navigation","tmux"],"dependencies":[{"issue_id":"STEW-6lv.3.4","depends_on_id":"STEW-6lv.3","type":"parent-child","created_at":"2026-02-07T10:08:44.335504+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.3.4","depends_on_id":"STEW-6lv.3.3","type":"blocks","created_at":"2026-02-07T10:08:49.594823+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4","title":"Phase 4: Polish \u0026 UX","description":"Incremental indexing, LLM provider config, caching, performance tuning, TUI browser.","status":"open","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-07T10:06:21.948862+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:06:21.948862+04:00","labels":["phase-4","polish"],"dependencies":[{"issue_id":"STEW-6lv.4","depends_on_id":"STEW-6lv","type":"parent-child","created_at":"2026-02-07T10:06:21.950396+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6lv.4","depends_on_id":"STEW-6lv.3","type":"blocks","created_at":"2026-02-07T10:06:27.695841+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4.1","title":"Incremental indexing","description":"Watch for new/modified transcripts and index incrementally. Avoid full re-index.","acceptance_criteria":"- Detects new transcript files\n- Indexes only new/changed chunks\n- fswatch or polling based\n- Runs as daemon or on-demand","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-07T10:10:22.592482+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:10:22.592482+04:00","labels":["incremental","indexing"],"dependencies":[{"issue_id":"STEW-6lv.4.1","depends_on_id":"STEW-6lv.4","type":"parent-child","created_at":"2026-02-07T10:10:22.594272+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4.2","title":"LLM provider config","description":"Unified config for all LLM touchpoints. Provider, model, API key, rate limits.","acceptance_criteria":"- Single config file\n- Supports: Anthropic, OpenAI, local\n- Per-stage overrides (cheap for enrichment, smart for rerank)\n- Validated at startup","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:10:31.266946+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:10:31.266946+04:00","labels":["config","llm-agnostic"],"dependencies":[{"issue_id":"STEW-6lv.4.2","depends_on_id":"STEW-6lv.4","type":"parent-child","created_at":"2026-02-07T10:10:31.26877+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4.3","title":"Query caching","description":"Cache frequent queries and embeddings. Reduce API calls and latency.","acceptance_criteria":"- Query embedding cache\n- Result cache with TTL\n- Cache invalidation on re-index\n- Hit rate metrics","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-07T10:10:42.096944+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:10:42.096944+04:00","labels":["caching","performance"],"dependencies":[{"issue_id":"STEW-6lv.4.3","depends_on_id":"STEW-6lv.4","type":"parent-child","created_at":"2026-02-07T10:10:42.098215+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4.4","title":"TUI browser","description":"Interactive terminal UI for browsing search results. Preview, filter, navigate.","acceptance_criteria":"- Interactive search input\n- Results with preview pane\n- Keyboard navigation\n- Direct jump to tmux pane\n- Like claude-history but smarter","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":90,"created_at":"2026-02-07T10:10:53.438954+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:10:53.438954+04:00","labels":["tui","ux"],"dependencies":[{"issue_id":"STEW-6lv.4.4","depends_on_id":"STEW-6lv.4","type":"parent-child","created_at":"2026-02-07T10:10:53.440034+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6lv.4.5","title":"Metrics \u0026 observability","description":"Track search quality, latency, cache hits, index size. Dashboard or CLI stats.","acceptance_criteria":"- Query latency percentiles\n- Cache hit rate\n- Index size over time\n- Search quality feedback loop","status":"open","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-07T10:10:56.725987+04:00","created_by":"Marc GRIS","updated_at":"2026-02-07T10:10:56.725987+04:00","labels":["metrics","observability"],"dependencies":[{"issue_id":"STEW-6lv.4.5","depends_on_id":"STEW-6lv.4","type":"parent-child","created_at":"2026-02-07T10:10:56.727161+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6pq","title":"IndexerCLI: Impl","description":"Wire all modules: discover → scroll → parse → filter → embed → write. Progress output to stderr.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T15:02:14.414648+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T17:06:16.219143+04:00","closed_at":"2026-02-10T17:06:16.219143+04:00","close_reason":"CLI implemented in bin/steward_index.ml - dry-run shows 1373 files, 14426 turns, Qdrant scroll works","dependencies":[{"issue_id":"STEW-6pq","depends_on_id":"STEW-kdm","type":"blocks","created_at":"2026-02-10T15:09:37.882539+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6pq","depends_on_id":"STEW-8x1","type":"blocks","created_at":"2026-02-10T15:09:37.944867+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6pq","depends_on_id":"STEW-7p2","type":"blocks","created_at":"2026-02-10T15:09:38.008168+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6pq","depends_on_id":"STEW-aiy","type":"blocks","created_at":"2026-02-10T15:09:38.071699+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-6pq","depends_on_id":"STEW-907","type":"blocks","created_at":"2026-02-10T15:09:38.13313+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-6tv","title":"IndexerCore: Types","description":"Define pure orchestration types: index_plan, index_batch, progress_state. No IO types here.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:53:24.426758+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:31:08.604168+04:00","closed_at":"2026-02-10T15:31:08.604168+04:00","close_reason":"Added index_plan, index_progress, index_result types for pure orchestration."}
{"id":"STEW-7ej","title":"Spike: Memory profile for streaming turns","description":"Test if we can stream/process 94k turns without OOM. Estimate intermediate JSONL file sizes. Validate pipeline memory feasibility.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:21:00.35428+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T13:31:35.888479+04:00","closed_at":"2026-02-10T13:31:35.888479+04:00","close_reason":"Memory estimate: ~366 MB raw, ~733 MB with overhead. OK for in-memory but should stream file-by-file to be safe. Max single turn: 17 MB."}
{"id":"STEW-7mz","title":"Discoverer: Tests","description":"Test discover_files against mock filesystem. Test filtering by project path, date range.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:39:11.286278+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:10.087342+04:00","closed_at":"2026-02-10T15:34:10.087342+04:00","close_reason":"Added 5 Discover tests: string_contains, filter_by_mtime, sort_by_mtime, total_size, filter_by_project. All pass.","dependencies":[{"issue_id":"STEW-7mz","depends_on_id":"STEW-auk","type":"blocks","created_at":"2026-02-10T15:09:37.324315+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-7p2","title":"AsyncEmbed: Impl","description":"Implement Lwt-based parallel embedder. Pool of N workers, backpressure, graceful error handling.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:48:03.782941+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:36:06.843808+04:00","closed_at":"2026-02-10T15:36:06.843808+04:00","close_reason":"async_embed.ml implemented with Cohttp-lwt, bounded concurrency, embed_sync for CLI. 66 tests pass.","dependencies":[{"issue_id":"STEW-7p2","depends_on_id":"STEW-meg","type":"blocks","created_at":"2026-02-10T15:09:37.704288+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-81b","title":"Decision: State storage format (SQLite vs JSON)","description":"Decide whether to track indexed chunk_ids in SQLite table or JSON file. SQLite: atomic updates, already a dependency. JSON: simpler, human-readable, but concurrent write issues.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:20:49.882824+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T07:39:04.252767+04:00","closed_at":"2026-02-10T07:39:04.252767+04:00","close_reason":"Decision: Use Qdrant as source of truth. No separate state store needed. Scroll takes ~1.3s for 94k IDs."}
{"id":"STEW-81m","title":"Create project-specific onboarding formula for claudes-steward","description":"Create a beads formula in .beads/formulas/ that encodes the onboarding/discovery workflow for this repo. Agent arrives, runs 'bd mol wisp onboard', follows steps, burns when oriented. Steps should cover: project purpose and architecture, key docs (DESIGN.md, FINDINGS.md, research/), active work streams (bd ready, bd list --status=in_progress), codebase structure (OCaml modules, justfiles, shared/ layout), current session state. Also update CLAUDE.md to be a minimal pointer to the formula. This is the learning step before extracting a generic composable formula (STEW-9w6).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T13:49:45.481122+08:00","created_by":"Marc GRIS","updated_at":"2026-02-18T10:14:41.681791+08:00","closed_at":"2026-02-18T10:14:41.681791+08:00","close_reason":"Duplicate of STEW-grg, which is already closed. Formula created at .beads/formulas/onboard.formula.json."}
{"id":"STEW-8gv","title":"Try claude-history (raine)","description":"Install, test. Rust, fast, fuzzy search. Has --show-path, --plain, --global flags. brew install raine/claude-history/claude-history","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:50:00.186953+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T12:08:00.14716+04:00","closed_at":"2026-02-06T12:08:00.14716+04:00","close_reason":"TUI-first, requires TTY. Less suitable for scripting than cc-conversation-search. Good for human use, not integration."}
{"id":"STEW-8lp","title":"DM: HookEventReason variant","description":"Replace Session_end.reason:string with reason variant. Enumerate valid reasons from Claude Code docs. Update json.ml parsing.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:38.459409+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:27:53.898357+04:00","closed_at":"2026-02-12T14:27:53.898357+04:00","close_reason":"Created session_end_reason variant (User_exit|Timeout|Error|Other_reason). Added string_of/of_string helpers. Updated json.ml and tests."}
{"id":"STEW-8mu","title":"Agent Onboarding Workflow","description":"Improve AI agent onboarding for claudes-steward. When a new session starts (fresh, post-crash, post-compaction, different agent), it should reach 'productive and oriented' with minimal user hand-holding. Approach: beads formula as discovery protocol, wisped ephemerally on arrival. Project-specific first, then generalize into composable base+overlay pattern for any repo.","status":"open","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T14:15:40.740413+08:00","created_by":"Marc GRIS","updated_at":"2026-02-16T14:15:40.740413+08:00"}
{"id":"STEW-8x1","title":"QdrantScroll: Impl","description":"Implement scroll_all_chunk_ids using existing Qdrant module. Paginate until exhausted.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:47:24.10694+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:30.527894+04:00","closed_at":"2026-02-10T15:34:30.527894+04:00","close_reason":"scroll_all_chunk_ids implemented in qdrant.ml with pagination. Integration tested.","dependencies":[{"issue_id":"STEW-8x1","depends_on_id":"STEW-erq","type":"blocks","created_at":"2026-02-10T15:09:37.52257+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-8zn","title":"steward find: DB lookup","description":"Add Finder.lookup_status: session_id → running_status. Query sessions table for tmux_location and state.","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T18:00:17.286064+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:17.286064+04:00"}
{"id":"STEW-907","title":"IndexerCLI: Types","description":"Define CLI arg types: index_options = {parallel, project_filter, dry_run}.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T15:02:14.34917+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:31:08.663811+04:00","closed_at":"2026-02-10T15:31:08.663811+04:00","close_reason":"Added index_options type for CLI args."}
{"id":"STEW-90w","title":"Add Lwt/Cohttp dependencies","description":"Add lwt, lwt_unix, cohttp-lwt-unix to dune. Update opam file. Verify builds.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:38:14.939547+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:31:08.425643+04:00","closed_at":"2026-02-10T15:31:08.425643+04:00","close_reason":"Added lwt, lwt_ppx, cohttp-lwt-unix, alcotest-lwt. Build passes."}
{"id":"STEW-94a","title":"steward find: Search integration","description":"Call cc-conversation-search with query, parse JSON output, return list of session_ids with metadata","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T13:06:54.950901+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:59:39.082644+04:00","closed_at":"2026-02-06T17:59:39.082644+04:00","close_reason":"Parsing done. Execution moved to new bead."}
{"id":"STEW-97x","title":"Gate 7: Refactor","description":"Clean up, no behavior change.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.935805+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:50:31.927697+04:00","closed_at":"2026-02-06T16:50:31.927697+04:00","close_reason":"Code already clean. Minor future improvement: use prepared statements in db.ml instead of string interpolation. No changes made.","dependencies":[{"issue_id":"STEW-97x","depends_on_id":"STEW-bqv","type":"blocks","created_at":"2026-02-06T12:37:05.793467+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-9ob","title":"Evaluate longer-context embedding model","description":"Switch to nomic-embed-text (8192 context, 768 dims, 3.4x faster). Update embed config, recreate Qdrant collection, re-index all transcripts.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-11T17:49:42.210175+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T09:28:51.678965+04:00","closed_at":"2026-02-12T09:28:51.678965+04:00","close_reason":"Folded into Domain Modeling epic - see STEW-vfu (EmbedModel variant type)"}
{"id":"STEW-9vh","title":"steward find: Define types","description":"Define OCaml types for search results, running status, merged results. ADTs for the domain vocabulary.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:14.815572+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:14:48.779063+04:00","closed_at":"2026-02-06T17:14:48.779063+04:00","close_reason":"Types defined and compile with just build"}
{"id":"STEW-9w6","title":"Generic composable onboarding formula for AI agents","description":"Create a reusable, composable onboarding formula that works across any repo. Base formula handles universal steps (bd health, git state, beads orientation) and composes with project-specific overlays. Born from experience onboarding agents to claudes-steward — learned that onboarding IS a repeatable workflow, not just 'read the docs'. Project-specific formula for claudes-steward comes first (STEW task), then we extract the generic pattern.","status":"closed","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T13:49:39.420887+08:00","created_by":"Marc GRIS","updated_at":"2026-02-18T10:14:41.761306+08:00","closed_at":"2026-02-18T10:14:41.761306+08:00","close_reason":"Duplicate of STEW-0pa (Generalize onboarding formula). Keeping STEW-0pa as the canonical issue.","dependencies":[{"issue_id":"STEW-9w6","depends_on_id":"STEW-81m","type":"blocks","created_at":"2026-02-16T13:49:48.285107+08:00","created_by":"Marc GRIS"}]}
{"id":"STEW-9x9","title":"Spike: Ollama concurrency throughput","description":"Test 1 vs 2 vs 4 parallel embedding requests to Ollama. Measure throughput and stability. Determine optimal parallelism level.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:20:57.7691+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T11:09:27.516876+04:00","closed_at":"2026-02-10T11:09:27.516876+04:00","close_reason":"Parallel x4 gives 2.5x speedup: 27 embeds/sec vs 11/sec sequential. 94k estimate: ~1 hour parallel vs ~2.4 hours sequential."}
{"id":"STEW-aiy","title":"IndexerCore: Impl","description":"Implement pure orchestration: plan_indexing (parsed - existing = todo), chunk_into_batches, update_progress.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:53:24.568916+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:30.612297+04:00","closed_at":"2026-02-10T15:34:30.612297+04:00","close_reason":"indexer.ml implemented: plan_indexing, batch, progress functions. All pure, 6 tests pass.","dependencies":[{"issue_id":"STEW-aiy","depends_on_id":"STEW-3w4","type":"blocks","created_at":"2026-02-10T15:09:37.822764+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-aj4","title":"Chunk splitting investigation","description":"Methodical investigation before solution design. See shared/research/CHUNK-SPLITTING-ANALYSIS.md for problem decomposition.\n\nUnknowns to resolve:\n1. What's in the 202 failing turns?\n2. How does Anthropic handle long chunks?\n3. Model behavior near context limit\n\nAfter: trigger /solution-enumeration","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:20:02.482373+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T07:03:23.70719+04:00","closed_at":"2026-02-13T07:03:23.70719+04:00","close_reason":"Investigation complete. All unknowns resolved. Solution enumeration done. Awaiting user decision on Path B vs alternatives."}
{"id":"STEW-aj4.1","title":"Analyze 202 failing turns","description":"Profile the 202 turns that exceed 8192 tokens:\n- Token distribution (how far over limit?)\n- Content type breakdown (tool output vs dialogue vs code)\n- Session distribution (few sessions or many?)\n- Identify patterns\n\nOutput: Update CHUNK-SPLITTING-ANALYSIS.md with findings","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:20:14.727145+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T06:40:41.552061+04:00","closed_at":"2026-02-13T06:40:41.552061+04:00","close_reason":"Analyzed 205 failing chunks. Key finding: tokenization varies 2-3x by content type. Log/stack traces hit limit at ~5k chars, prose at ~9k chars. See CHUNK-SPLITTING-ANALYSIS.md","dependencies":[{"issue_id":"STEW-aj4.1","depends_on_id":"STEW-aj4","type":"parent-child","created_at":"2026-02-12T18:20:14.728544+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-aj4.2","title":"Research Anthropic contextual retrieval chunking","description":"Deep dive into Anthropic's approach:\n- Read https://www.anthropic.com/news/contextual-retrieval\n- How do they handle long documents?\n- Chunk size recommendations?\n- Overlap strategy?\n\nOutput: Update CHUNK-SPLITTING-ANALYSIS.md with findings","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:20:16.548658+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T06:58:02.20262+04:00","closed_at":"2026-02-13T06:58:02.20262+04:00","close_reason":"Researched Anthropic contextual retrieval + industry best practices. Key: 250-512 token chunks, 10-20% overlap, sliding window for transcripts, summarize noise. See CHUNK-SPLITTING-ANALYSIS.md","dependencies":[{"issue_id":"STEW-aj4.2","depends_on_id":"STEW-aj4","type":"parent-child","created_at":"2026-02-12T18:20:16.549404+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-aj4.3","title":"Test nomic-embed-text near context limit","description":"Empirical test:\n- What happens at exactly 8192 tokens?\n- Graceful degradation or hard error?\n- Quality degradation curve near limit?\n\nOutput: Update CHUNK-SPLITTING-ANALYSIS.md with findings","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:20:18.219786+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T06:40:51.201912+04:00","closed_at":"2026-02-13T06:40:51.201912+04:00","close_reason":"Tested empirically: hard HTTP 400 fail, no graceful degradation. Effective limit varies by content tokenization density (5-10k chars).","dependencies":[{"issue_id":"STEW-aj4.3","depends_on_id":"STEW-aj4","type":"parent-child","created_at":"2026-02-12T18:20:18.220817+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-aj4.4","title":"Trigger /solution-enumeration","description":"REMINDER: After investigation tasks complete, invoke:\n/solution-enumeration\n\nWith context from shared/research/CHUNK-SPLITTING-ANALYSIS.md","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T18:20:19.641884+04:00","created_by":"Marc GRIS","updated_at":"2026-02-13T07:03:22.624191+04:00","closed_at":"2026-02-13T07:03:22.624191+04:00","close_reason":"Solution enumeration complete. Recommend Path B (Content-Aware Splitting). See CHUNK-SPLITTING-ANALYSIS.md for full analysis and user decisions needed.","dependencies":[{"issue_id":"STEW-aj4.4","depends_on_id":"STEW-aj4","type":"parent-child","created_at":"2026-02-12T18:20:19.642402+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-aj4.4","depends_on_id":"STEW-aj4.1","type":"blocks","created_at":"2026-02-12T18:20:24.290274+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-aj4.4","depends_on_id":"STEW-aj4.2","type":"blocks","created_at":"2026-02-12T18:20:24.339096+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-aj4.4","depends_on_id":"STEW-aj4.3","type":"blocks","created_at":"2026-02-12T18:20:24.388097+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-aj9","title":"Bridge: transcript search → tmux navigation","description":"Combine transcript search tool output (session_id) with steward state (tmux location) to enable 'where is session about X?' workflow.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:50:13.140843+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.037532+04:00","closed_at":"2026-02-06T18:00:02.037532+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6","dependencies":[{"issue_id":"STEW-aj9","depends_on_id":"STEW-44h","type":"blocks","created_at":"2026-02-06T11:53:17.245973+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-aj9","depends_on_id":"STEW-8gv","type":"blocks","created_at":"2026-02-06T11:53:17.31852+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-aj9","depends_on_id":"STEW-ebi","type":"blocks","created_at":"2026-02-06T11:53:17.389996+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-auk","title":"Discoverer: Types","description":"Define types for file discovery: file_info = {path, mtime, size}. Pure data types, no IO.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:39:11.218115+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:31:08.485869+04:00","closed_at":"2026-02-10T15:31:08.485869+04:00","close_reason":"Added file_info type for discovery phase."}
{"id":"STEW-aw8","title":"DM: EmbedModel propagate","description":"Update embed.ml, async_embed.ml, qdrant.ml, steward_index.ml to use EmbedModel variant. Compiler will guide: fix all type errors after changing embed_config.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:08.96836+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T12:03:55.465429+04:00","closed_at":"2026-02-12T12:03:55.465429+04:00","close_reason":"Completed as part of STEW-vfu - all usages already propagated when fixing compiler errors.","dependencies":[{"issue_id":"STEW-aw8","depends_on_id":"STEW-vfu","type":"blocks","created_at":"2026-02-12T09:28:51.35964+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-bbw","title":"Write test cases for steward-goto","description":"Test: given tmux location, verify correct tmux commands generated (dry-run mode).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:58:15.478363+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.028695+04:00","closed_at":"2026-02-06T18:00:02.028695+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-be5","title":"DM: SessionId newtype","description":"Create newtype wrapper: type session_id = SessionId of string. Add make/unwrap functions. Prevents accidental confusion with other string IDs.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:10:25.713736+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:29:34.336537+04:00","closed_at":"2026-02-12T14:29:34.336537+04:00","close_reason":"Created SessionId newtype with make/string_of functions. Propagation to record types is in STEW-r9w."}
{"id":"STEW-bjg","title":"Chunk splitting for long turns","description":"Split turns exceeding context limit into multiple chunks. Preserve semantic boundaries (sentences/paragraphs). Update turn_to_chunk in embed.ml or add new chunking module.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-11T17:49:42.130001+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T09:28:51.731745+04:00","closed_at":"2026-02-12T09:28:51.731745+04:00","close_reason":"nomic-embed-text has 8192 token context - chunking likely unnecessary. Revisit if needed after re-indexing."}
{"id":"STEW-blj","title":"Bridge: steward-find (fzf-based session finder)","description":"Two-phase session finder: search → fzf picker → tmux navigation. Composes: steward-search, fzf, steward-goto.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:57:56.419536+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.023649+04:00","closed_at":"2026-02-06T18:00:02.023649+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-bqv","title":"Gate 6: Green","description":"Run tests → they PASS.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.840041+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:50:12.884455+04:00","closed_at":"2026-02-06T16:50:12.884455+04:00","close_reason":"All 21 tests pass. Test Successful in 0.002s.","dependencies":[{"issue_id":"STEW-bqv","depends_on_id":"STEW-d1r","type":"blocks","created_at":"2026-02-06T12:37:05.723288+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-c4e","title":"Gate 4: Red","description":"Run tests → they FAIL. If they pass, tests are wrong.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.640923+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:47:20.149541+04:00","closed_at":"2026-02-06T16:47:20.149541+04:00","close_reason":"Tests pass because implementation was done in Gate 1 (types + logic together in OCaml style). Proceeding to Gate 6 (Green) directly.","dependencies":[{"issue_id":"STEW-c4e","depends_on_id":"STEW-cqu","type":"blocks","created_at":"2026-02-06T12:37:05.581114+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-ca8","title":"Write test cases for steward-search","description":"Test: given mock cc-search output + mock DB, verify correct merged output format.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:58:15.368301+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.030238+04:00","closed_at":"2026-02-06T18:00:02.030238+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-cfy","title":"Gate 2: Compile check","description":"dune build succeeds. Types compile, holes are valid.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.450476+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T13:06:23.149475+04:00","closed_at":"2026-02-06T13:06:23.149475+04:00","close_reason":"dune build succeeds. Binary at _build/default/bin/steward_hook.exe","dependencies":[{"issue_id":"STEW-cfy","depends_on_id":"STEW-kvk","type":"blocks","created_at":"2026-02-06T12:37:05.438101+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-cqu","title":"Gate 3: Test design","description":"Design tests against the types. Tests should compile.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.542005+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:47:09.388038+04:00","closed_at":"2026-02-06T16:47:09.388038+04:00","close_reason":"Tests designed and implemented: 10 Transition tests (state machine logic), 11 Json tests (payload parsing). Using alcotest. All 21 tests pass.","dependencies":[{"issue_id":"STEW-cqu","depends_on_id":"STEW-cfy","type":"blocks","created_at":"2026-02-06T12:37:05.5091+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-d1r","title":"Gate 5: Implementation","description":"Fill the holes to satisfy tests.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.743272+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:47:26.902572+04:00","closed_at":"2026-02-06T16:47:26.902572+04:00","close_reason":"Implementation already done in Gate 1 (types.ml, transition.ml, json.ml, tmux.ml, db.ml, steward_hook.ml).","dependencies":[{"issue_id":"STEW-d1r","depends_on_id":"STEW-c4e","type":"blocks","created_at":"2026-02-06T12:37:05.652491+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-da0","title":"steward find: State query","description":"Query SQLite for session_id → tmux_location mapping. Return running status and location if found.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T13:06:56.112223+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:59:52.148137+04:00","closed_at":"2026-02-06T17:59:52.148137+04:00","close_reason":"Pure functions done in Finder module. DB integration separate."}
{"id":"STEW-ebi","title":"Build session_id → tmux_location mapping","description":"Extend claudes-steward hooks to store session_id alongside tmux location. This enables correlating transcript search results with running sessions.","notes":"## Design Decisions\n\n**Primary Key**: tmux_pane_id (not session_id)\n- session_id changes on resume (verified in experiments)\n- tmux_pane_id (%318) stable for pane lifetime\n\n**Schema**: shared/schema.sql\n- sessions table with state machine\n- needs_attention view for triage\n- roster view for dashboard\n- Index on session_id for bridge query\n\n**Bridge Query**:\nSELECT tmux_location FROM sessions WHERE session_id = ?\n\n**Convergence**: Same state store serves roster, triage, AND session finder.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:50:07.020717+04:00","created_by":"Marc GRIS","updated_at":"2026-02-18T08:43:14.468433+08:00","closed_at":"2026-02-18T08:43:14.468433+08:00","close_reason":"Implementation already complete from a prior session. Binary builds (steward_hook.exe), 77 tests pass. Hook handler reads JSON stdin, captures tmux context, computes state transition, upserts to SQLite with session_id indexed for bridge queries. Shell wrapper at shared/hooks/steward-hook.sh delegates to the binary."}
{"id":"STEW-eer","title":"DM: ChunkId newtype","description":"Create newtype wrapper: type chunk_id = ChunkId of string. Distinct from session_id, msg_uuid. Used in index_chunk, search_result, qdrant point IDs.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:10:25.784335+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:29:52.542899+04:00","closed_at":"2026-02-12T14:29:52.542899+04:00","close_reason":"Created newtypes with make/string_of functions. Propagation to record types is in STEW-r9w."}
{"id":"STEW-erq","title":"QdrantScroll: Tests","description":"Test scroll parsing, pagination handling. Mock Qdrant responses.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:47:24.036176+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:10.179339+04:00","closed_at":"2026-02-10T15:34:10.179339+04:00","close_reason":"Added QdrantScroll integration test. scroll_all_chunk_ids implemented and tested.","dependencies":[{"issue_id":"STEW-erq","depends_on_id":"STEW-whr","type":"blocks","created_at":"2026-02-10T15:09:37.463958+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-exu","title":"DM: SessionState DB encoding","description":"Refactor DB state storage. Currently state+state_reason as separate columns allow illegal combinations. Either: encode as single string, or add CHECK constraint, or refactor schema.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:17:09.616136+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T15:25:51.384376+04:00","closed_at":"2026-02-12T15:25:51.384376+04:00","close_reason":"Single-column encoding: working, needs_attention:done/permission/question. Added state_of_db for future reads."}
{"id":"STEW-fu7","title":"steward find: Green phase","description":"Run tests, confirm they pass.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:15.240606+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:19:02.858195+04:00","closed_at":"2026-02-06T17:19:02.858195+04:00","close_reason":"All 29 tests pass","dependencies":[{"issue_id":"STEW-fu7","depends_on_id":"STEW-xp1","type":"blocks","created_at":"2026-02-06T16:39:22.812275+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-g7k","title":"DM: MsgUuid newtype","description":"Create newtype wrapper: type msg_uuid = MsgUuid of string. Used in transcript_message. TurnId is derived from MsgUuid of user message.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:10:25.856482+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:29:52.546744+04:00","closed_at":"2026-02-12T14:29:52.546744+04:00","close_reason":"Created newtypes with make/string_of functions. Propagation to record types is in STEW-r9w."}
{"id":"STEW-grg","title":"Create project-specific onboarding formula","description":"Write a .beads/formulas/onboard.formula.json for claudes-steward. Steps should cover: verify bd health, project purpose/architecture, read key docs (DESIGN.md, FINDINGS.md), check active work (bd list --status=in_progress, bd ready), understand codebase structure (key directories, OCaml modules). Agent runs 'bd mol wisp onboard' on arrival, follows steps, burns when oriented. Phase: vapor (ephemeral).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T14:15:46.081181+08:00","created_by":"Marc GRIS","updated_at":"2026-02-17T12:13:16.559743+08:00","closed_at":"2026-02-17T12:13:16.559743+08:00","close_reason":"Created .beads/formulas/onboard.formula.json with 6 discovery steps: health, project, research, active-work, codebase, orient. Phase vapor (ephemeral wisp). Tested with dry-run and live wisp creation/burn.","dependencies":[{"issue_id":"STEW-grg","depends_on_id":"STEW-8mu","type":"parent-child","created_at":"2026-02-16T14:16:05.350049+08:00","created_by":"Marc GRIS"}]}
{"id":"STEW-guk","title":"Decision: Filter granularity (chunk_id vs file mtime)","description":"Decide whether to track indexing by chunk_id (turn-level, precise) or by file mtime (simpler, but re-indexes whole file on any change).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:20:52.625048+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T13:28:57.801249+04:00","closed_at":"2026-02-10T13:28:57.801249+04:00","close_reason":"Decision: chunk_id granularity. Diff parsed turns vs Qdrant existing IDs. Natural fit with Qdrant-as-truth."}
{"id":"STEW-hce","title":"steward find: Navigation","description":"Jump to selected tmux pane via tmux select-window and select-pane commands.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T13:07:00.339079+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:07.831865+04:00","closed_at":"2026-02-06T18:00:07.831865+04:00","close_reason":"Superseded - creating clear remaining tasks","dependencies":[{"issue_id":"STEW-hce","depends_on_id":"STEW-sq9","type":"blocks","created_at":"2026-02-06T13:07:07.765305+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-hnv","title":"steward find: Still green","description":"Confirm tests still pass after refactor.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:15.399383+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:19:32.193142+04:00","closed_at":"2026-02-06T17:19:32.193142+04:00","close_reason":"No refactoring needed, tests still pass","dependencies":[{"issue_id":"STEW-hnv","depends_on_id":"STEW-62a","type":"blocks","created_at":"2026-02-06T16:39:22.95362+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-i3c","title":"Spike: Qdrant scroll performance","description":"Test how fast we can retrieve ~94k chunk_ids from Qdrant using scroll API. Determine if Qdrant-as-truth is viable for incremental detection.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:20:59.257994+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T07:39:02.995151+04:00","closed_at":"2026-02-10T07:39:02.995151+04:00","close_reason":"Scroll performance: ~73k IDs/sec. 94k IDs would take ~1.3s. Qdrant-as-truth is viable."}
{"id":"STEW-ibs","title":"Slim CLAUDE.md to minimal onboard pointer","description":"Replace current CLAUDE.md content with a minimal pointer: 'run bd mol wisp onboard on arrival'. Remove project-specific context that will now be discovered via the formula. Trust bd doctor for recovery if bd is broken.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-16T14:15:48.170156+08:00","created_by":"Marc GRIS","updated_at":"2026-02-17T18:29:59.508842+08:00","closed_at":"2026-02-17T18:29:59.508842+08:00","close_reason":"Replaced 'bd onboard' with 'bd mol wisp onboard' pointer. Removed Quick Reference section (redundant with bd prime). Kept Navigating Beads guidance and Landing the Plane protocol.","dependencies":[{"issue_id":"STEW-ibs","depends_on_id":"STEW-8mu","type":"parent-child","created_at":"2026-02-16T14:16:05.436691+08:00","created_by":"Marc GRIS"},{"issue_id":"STEW-ibs","depends_on_id":"STEW-grg","type":"blocks","created_at":"2026-02-16T14:16:08.814441+08:00","created_by":"Marc GRIS"}]}
{"id":"STEW-j6s","title":"Gate 8: Still green","description":"Run tests → still PASS. Done.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:59.02931+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T16:54:14.305128+04:00","closed_at":"2026-02-06T16:54:14.305128+04:00","close_reason":"All 21 tests still pass. Test Successful in 0.002s.","dependencies":[{"issue_id":"STEW-j6s","depends_on_id":"STEW-97x","type":"blocks","created_at":"2026-02-06T12:37:05.864995+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-kb0","title":"Research: Transcript search tools","description":"Explore existing Claude Code transcript search tools (episodic-memory, cc-conversation-search, claude-history, etc.) before building our own. Goal: find one to integrate with claudes-steward for 'where in tmux is the session about X?' workflow.","notes":"## Findings (2026-02-05)\n\n### MCP Servers (semantic search)\n- episodic-memory (obra) - local embeddings + SQLite\n- clancey - meaning-based search\n- cccmemory - semantic + full-text, cross-project\n- claude-historian-mcp - query clustering\n\n### CLI Tools\n- cc-conversation-search - **BEST FIT**: returns session_id, --json, Python API\n- claude-history (raine) - Rust, fast, fuzzy, --show-path\n- claude-code-tools - Rust/Tantivy full-text\n\n### Recommendation\nTry cc-conversation-search first (returns session_id directly), then claude-history as backup.","status":"closed","priority":2,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:41:59.771871+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T11:56:53.825061+04:00","closed_at":"2026-02-06T11:56:53.825061+04:00","close_reason":"Initial survey complete. Identified cc-conversation-search as top candidate. Created follow-up tasks.","dependencies":[{"issue_id":"STEW-kb0","depends_on_id":"STEW-mq6","type":"blocks","created_at":"2026-02-06T11:42:11.520872+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-kdm","title":"Discoverer: Impl","description":"Implement discover_files: glob pattern, return file_info list. Effect at edge (Unix.stat), pure filtering.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:39:11.359747+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:34:30.432572+04:00","closed_at":"2026-02-10T15:34:30.432572+04:00","close_reason":"discover.ml implemented: discover_files, filter_by_project, filter_by_mtime, sort_by_mtime_desc, total_size. 63 tests pass.","dependencies":[{"issue_id":"STEW-kdm","depends_on_id":"STEW-7mz","type":"blocks","created_at":"2026-02-10T15:09:37.40183+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-kvk","title":"Gate 1: Domain modeling (types)","description":"Define ADTs for hook_event, state, reason. Types ARE the spec.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:36:58.354064+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T13:04:50.471871+04:00","closed_at":"2026-02-06T13:04:50.471871+04:00","close_reason":"Types defined: hook_event, session_state, attention_reason, tmux_context, hook_payload, session_record. Modules: Types, Transition, Json, Tmux, Db."}
{"id":"STEW-liv","title":"DM: MessageType variant","description":"Replace msg_type:string with message_type variant (User | Assistant | System | Progress). Remove msg_role field - derive from message_type. Update transcript.ml parsing.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:38.320846+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:25:15.689934+04:00","closed_at":"2026-02-12T14:25:15.689934+04:00","close_reason":"Replaced msg_type:string with msg_type:message_role. Removed redundant msg_role field. Added string_of_message_role helper. Updated transcript.ml and tests."}
{"id":"STEW-llf","title":"steward find: Execute cc-search","description":"Shell out to cc-conversation-search with query, capture JSON output, parse using Finder.parse_search_output","status":"open","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T18:00:16.045361+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:16.045361+04:00"}
{"id":"STEW-meg","title":"AsyncEmbed: Tests","description":"Test parallel embedding with mock HTTP. Verify concurrency limits, error handling, result ordering.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:48:03.713435+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:36:06.779728+04:00","closed_at":"2026-02-10T15:36:06.779728+04:00","close_reason":"Added 3 AsyncEmbed tests: default_config, empty_list, parallel_integration. Lwt-based parallel embedding working.","dependencies":[{"issue_id":"STEW-meg","depends_on_id":"STEW-0rb","type":"blocks","created_at":"2026-02-10T15:09:37.644937+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-mq6","title":"Session Finder: 'Where was I working on X?'","description":"Find running Claude sessions by topic and navigate to their tmux location. Bridges transcript search (existing tools) with tmux location tracking (claudes-steward).","status":"open","priority":2,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T11:42:06.797667+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T11:42:06.797667+04:00"}
{"id":"STEW-ndp","title":"steward find: Write tests","description":"Write tests for search parsing, DB query, result merging, formatting. Tests against the types.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:14.951741+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:18:21.885824+04:00","closed_at":"2026-02-06T17:18:21.885824+04:00","close_reason":"Tests written and confirmed failing (6 failures)","dependencies":[{"issue_id":"STEW-ndp","depends_on_id":"STEW-4aq","type":"blocks","created_at":"2026-02-06T16:39:22.631516+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-nwg","title":"Decision: Parallel strategy (GNU parallel vs Lwt vs sequential)","description":"Decide how to parallelize embedding calls. Options: GNU parallel (shell), OCaml Lwt/Async (in-process), or simple sequential relying on Ollama speed.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-09T18:20:51.34284+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T13:19:49.19627+04:00","closed_at":"2026-02-10T13:19:49.19627+04:00","close_reason":"Decision: OCaml Lwt/Async for in-process parallel embedding. Adds dependency but tighter integration."}
{"id":"STEW-ozc","title":"DM: EmbedProvider variant","description":"Replace embed_provider:string with provider variant (Ollama | OpenAI). Provider determines API format, base URL patterns.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:38.527628+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T14:28:54.863475+04:00","closed_at":"2026-02-12T14:28:54.863475+04:00","close_reason":"Created embed_provider variant (Ollama|OpenAI). Added string_of helper. Updated embed.ml and tests."}
{"id":"STEW-r9w","title":"DM: Propagate ID newtypes","description":"Update all record types to use SessionId, ChunkId, MsgUuid instead of bare strings. Compiler will catch all usages. Update parsing/serialization.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:10:25.924071+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T15:06:13.216757+04:00","closed_at":"2026-02-12T15:06:13.216757+04:00","close_reason":"Propagated SessionId, ChunkId, MsgUuid newtypes through all record types. Updated parsing (json.ml, transcript.ml, finder.ml, qdrant.ml), serialization (db.ml, steward_index.ml, steward_search.ml), and all tests.","dependencies":[{"issue_id":"STEW-r9w","depends_on_id":"STEW-be5","type":"blocks","created_at":"2026-02-12T09:28:51.412778+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-r9w","depends_on_id":"STEW-eer","type":"blocks","created_at":"2026-02-12T09:28:51.464618+04:00","created_by":"Marc GRIS"},{"issue_id":"STEW-r9w","depends_on_id":"STEW-g7k","type":"blocks","created_at":"2026-02-12T09:28:51.518298+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-sq9","title":"steward find: Presentation","description":"Display merged results to user. Print mode (default) and interactive mode (-i flag).","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T13:06:58.885959+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:59:52.151922+04:00","closed_at":"2026-02-06T17:59:52.151922+04:00","close_reason":"Pure functions done in Finder module. DB integration separate.","dependencies":[{"issue_id":"STEW-sq9","depends_on_id":"STEW-4ju","type":"blocks","created_at":"2026-02-06T13:07:07.688096+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-tll","title":"Implement steward-search","description":"Script that calls cc-conversation-search, queries state DB, outputs merged results.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T12:58:15.601308+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T18:00:02.026773+04:00","closed_at":"2026-02-06T18:00:02.026773+04:00","close_reason":"Superseded by TDD implementation under STEW-mq6"}
{"id":"STEW-utq","title":"steward find: Red phase","description":"Run tests, confirm they fail. All holes should cause failures.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:15.065006+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:18:21.887862+04:00","closed_at":"2026-02-06T17:18:21.887862+04:00","close_reason":"Tests written and confirmed failing (6 failures)","dependencies":[{"issue_id":"STEW-utq","depends_on_id":"STEW-ndp","type":"blocks","created_at":"2026-02-06T16:39:22.688289+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-vfu","title":"DM: EmbedModel variant type","description":"Create variant type for embedding models (Mxbai_embed_large | Nomic_embed_text). Add functions: dimensions_of, context_length_of, model_name_of. Remove embed_dimensions field from embed_config. TDD: define type in types.ml.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:05:02.59407+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T12:03:34.982825+04:00","closed_at":"2026-02-12T12:03:34.982825+04:00","close_reason":"Created embed_model variant type with Mxbai_embed_large | Nomic_embed_text. Dimensions and context derive from variant via dimensions_of, context_length_of, model_name_of. Updated embed.ml, async_embed.ml, and tests."}
{"id":"STEW-whr","title":"QdrantScroll: Types","description":"Define scroll_result type. Pure type for chunk_id set returned from Qdrant scroll.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:47:23.96829+04:00","created_by":"Marc GRIS","updated_at":"2026-02-10T15:31:08.5446+04:00","closed_at":"2026-02-10T15:31:08.5446+04:00","close_reason":"QdrantScroll uses existing Qdrant types + will add scroll function."}
{"id":"STEW-xp1","title":"steward find: Implement","description":"Fill holes to satisfy tests. Search integration, DB query, merging, presentation, navigation.","status":"closed","priority":1,"issue_type":"task","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-06T16:39:15.137116+04:00","created_by":"Marc GRIS","updated_at":"2026-02-06T17:19:02.856295+04:00","closed_at":"2026-02-06T17:19:02.856295+04:00","close_reason":"All 29 tests pass","dependencies":[{"issue_id":"STEW-xp1","depends_on_id":"STEW-utq","type":"blocks","created_at":"2026-02-06T16:39:22.748165+04:00","created_by":"Marc GRIS"}]}
{"id":"STEW-yg3","title":"Domain Modeling Hardening","description":"Make illegal states unrepresentable. Refactor stringly-typed fields to variants, add newtypes for domain IDs, enforce coupled field invariants. Follows dual-tdd-autonomous: types → tests → impl.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-12T09:04:30.041232+04:00","created_by":"Marc GRIS","updated_at":"2026-02-12T15:26:58.379317+04:00","closed_at":"2026-02-12T15:26:58.379317+04:00","close_reason":"Domain Modeling Hardening epic complete: variants, newtypes, single-column DB encoding, explicit Unknown"}
{"id":"STEW-zqk","title":"Transcript Indexer (steward-index)","description":"Index ~94k transcript turns into Qdrant for semantic search. Lwt for parallel embedding, Qdrant-as-truth for incremental updates. FP/Unix: pure core, effects at edges.","status":"closed","priority":1,"issue_type":"epic","owner":"62659262+m-gris@users.noreply.github.com","created_at":"2026-02-10T14:37:55.889529+04:00","created_by":"Marc GRIS","updated_at":"2026-02-11T11:13:33.327612+04:00","closed_at":"2026-02-11T11:13:33.327612+04:00","close_reason":"Transcript Indexer epic complete: 14k chunks indexed, search functional, 446 errors tracked in STEW-4a3"}
